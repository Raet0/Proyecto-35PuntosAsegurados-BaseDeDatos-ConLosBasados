# Proyecto Interciclo Base De Datos

## Integrantes
1.  Adrian Lazo
2.  Rafael Prieto
3. John Serrano
4. Matias Sinchi

### Creación de nuevo usuario

- Debemos entrar a la terminal de ==SQL Plus==

![aplicacion a entrar](capturas/SQLPlus.png)

```bash
/as sysdba
```
```bash
ALTER SESSION SET "_ORACLE_SCRIPT"= TRUE;
```
- Ingresamos el comando para poder crear el usuario
```bash
CREATE USER proyecto1 IDENTIFIED BY "123"
```
- El siguente comando son los valores que le daremos al usuario
```bash
DEFAULT TABLESPACE "USERS"
TEMPORARY TABLESPACE "TEMP";
```
- le damos un espacio ilimitado por si las dudas
```bash
ALTER USER proyecto1 QUOTA UNLIMITED ON USERS;
```
- creamos una session para el usuario
```bash
GRANT CREATE SESSION TO proyecto1;
```
- y le damos los ultimos atributos al proyecto
```bash
GRANT "RESOURCE" TO proyecto1; 
ALTER USER proyecto1 DEFAULT ROLE "RESOURCE";
```

# Creación de la base de datos

## Creación de las tablas principales

```bash
-- ==========================
-- 1. TABLA CATEGORIAS
-- ==========================
CREATE TABLE PROYECTO1.CATEGORIAS (
    CATEGORIAID   NUMBER(10,0)  NOT NULL,
    NOMBRECAT     CHAR(50 BYTE) NOT NULL,
    CONSTRAINT PK_CATEGORIAS PRIMARY KEY (CATEGORIAID)
);

-- ==========================
-- 2. TABLA PROVEEDORES
-- ==========================
CREATE TABLE PROYECTO1.PROVEEDORES (
    PROVEEDORID   NUMBER(10,0)  NOT NULL,
    NOMBREPROV    CHAR(50 BYTE) NOT NULL,
    CONTACTO      CHAR(50 BYTE),
    CELUPROV      CHAR(12 BYTE),
    FIJOPROV      CHAR(12 BYTE),
    CONSTRAINT PK_PROVEEDORES PRIMARY KEY (PROVEEDORID)
);

-- ==========================
-- 3. TABLA PRODUCTOS
-- ==========================
CREATE TABLE PROYECTO1.PRODUCTOS (
    PRODUCTOID   NUMBER(10,0)  NOT NULL,
    CATEGORIAID  NUMBER(10,0)  NOT NULL,
    PROVEEDORID  NUMBER(10,0)  NOT NULL,
    DESCRIPCION  CHAR(50 BYTE),
    PRECIOUNIT   NUMBER(10,2),
    EXISTENCIA   NUMBER(10,0),
    CONSTRAINT PK_PRODUCTOS PRIMARY KEY (PRODUCTOID),
    CONSTRAINT FK_PRODUCTO_CATE_PROD_CATEGORI 
        FOREIGN KEY (CATEGORIAID) 
        REFERENCES PROYECTO1.CATEGORIAS (CATEGORIAID),
    CONSTRAINT FK_PRODUCTO_PROV_PROD_PROVEEDOR 
        FOREIGN KEY (PROVEEDORID) 
        REFERENCES PROYECTO1.PROVEEDORES (PROVEEDORID)
);

-- ==========================
-- 4. TABLA EMPLEADOS
-- ==========================
CREATE TABLE PROYECTO1.EMPLEADOS (
    EMPLEADOID   NUMBER(10,0)  NOT NULL,
    NOMBRE       CHAR(30 BYTE) NOT NULL,
    APELLIDO     CHAR(30 BYTE) NOT NULL,
    FECHA_NAC    DATE,
    REPORTA_A    NUMBER(10,0),
    EXTENSION    NUMBER(10,0),
    CONSTRAINT PK_EMPLEADOS PRIMARY KEY (EMPLEADOID),
    CONSTRAINT FK_EMPLEADO_REPORTA 
        FOREIGN KEY (REPORTA_A)
        REFERENCES PROYECTO1.EMPLEADOS (EMPLEADOID)
);

-- ==========================
-- 5. TABLA CLIENTES
-- ==========================
CREATE TABLE PROYECTO1.CLIENTES (
    CLIENTEID        NUMBER(10,0)  NOT NULL,
    CEDULA_RUC       CHAR(10 BYTE) NOT NULL,
    NOMBRECLI        CHAR(30 BYTE) NOT NULL,
    NOMBRECONTACTO   CHAR(50 BYTE),
    DIRECCIONCLI     CHAR(50 BYTE),
    FAX              CHAR(12 BYTE),
    EMAIL            CHAR(50 BYTE),
    CELULAR          CHAR(12 BYTE),
    FIJO             CHAR(12 BYTE),
    CONSTRAINT PK_CLIENTES PRIMARY KEY (CLIENTEID)
);

-- ==========================
-- 6. TABLA ORDENES
-- ==========================
CREATE TABLE PROYECTO1.ORDENES (
    ORDENID     NUMBER(10,0) NOT NULL,
    EMPLEADOID  NUMBER(10,0) NOT NULL,
    CLIENTEID   NUMBER(10,0) NOT NULL,
    FECHAORDEN  DATE,
    DESCUENTO   NUMBER(5,2),
    CONSTRAINT PK_ORDENES PRIMARY KEY (ORDENID),
    CONSTRAINT FK_ORDENES_EMPLE_ORD_EMPLEADO 
        FOREIGN KEY (EMPLEADOID)
        REFERENCES PROYECTO1.EMPLEADOS (EMPLEADOID),
    CONSTRAINT FK_ORDENES_CLIEN_ORD_CLIENTES 
        FOREIGN KEY (CLIENTEID)
        REFERENCES PROYECTO1.CLIENTES (CLIENTEID)
);

-- ==========================
-- 7. TABLA DETALLE_ORDENES
-- ==========================
CREATE TABLE PROYECTO1.DETALLE_ORDENES (
    ORDENID     NUMBER(10,0) NOT NULL,
    DETALLEID   NUMBER(10,0) NOT NULL,
    PRODUCTOID  NUMBER(10,0) NOT NULL,
    CANTIDAD    NUMBER(10,0) NOT NULL,
    CONSTRAINT PK_DETALLE_ORDENES 
        PRIMARY KEY (ORDENID, DETALLEID),
    CONSTRAINT FK_DETALLE_ORDEN_DET_ORDENES 
        FOREIGN KEY (ORDENID)
        REFERENCES PROYECTO1.ORDENES (ORDENID),
    CONSTRAINT FK_DETALLE_PROD_DETA_PRODUCTO 
        FOREIGN KEY (PRODUCTOID)
        REFERENCES PROYECTO1.PRODUCTOS (PRODUCTOID)
);

```